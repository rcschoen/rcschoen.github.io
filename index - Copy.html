<!DOCTYPE html>
<html lang="en">
    <head>  
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>books</title>
    </head>
    <body>
        <h1>books</h1>
        <div id="books_container">
            
            
        </div>
        <style>
            #books_container{
                display: flex;
                flex-wrap: wrap;
                gap: 1rem;
            }
            .book{
                border: 1px solid #ccc;
                color: black;
                padding: 1rem;
                width: 200px;
                border-radius: 8px;
                background-color: yellow;  
            }
        </style>
        <script>
            async function getBooks() 
            {
                try 
                {
                  const response = await fetch("https://upadhayay.github.io/db.json");  
                    //fetch from api endpoint url
                  const data = await response.json();  
                  console.log(data.books);

                    // DOM
                    const books_container = document.getElementById("books_container");
    
                    for (let book of data.books) {
                        const single_book = document.createElement("div");
                        single_book.classList.add("book");

                        single_book.innerHTML = `
                            <h3>${book.title}</h3>
                            <p>Price: $${book.year}</p>
                            <p>${book.published}</p>
                        `;
                        if (book.published === false) {
                            single_book.style.backgroundColor = "red";
                        }

                        books_container.appendChild(single_book);
                    }

                }catch (error) {
                    console.error("Error fetching books:", error);
                }

            }
            getBooks();
        
        </script>
    </body>
</html>